<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>prompt-Message</title>
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script>
        function AddTableData() {
            var name = prompt('Enter your full name');

            if (name === null) {
                return;
            }

            if (!/^[a-zA-Z\s]+$/.test(name)) {
                alert('Please enter only alphabets for the name.');
                return;
            }


            var email = prompt('Enter Your email id');

            if (email === null) {
                return;
            }

            if (!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email)) {
                alert('Please enter valid email id');
                return;
            }

            var age = parseInt(prompt('Enter your age'));

            if (age === null) {
                return;
            }

            if (!/[0-9]$/.test(age)) {
                alert('please enter only numbers');
                return;
            }

            var phonenumber = parseInt(prompt('Enter Your number'));

            if (phonenumber === null) {
                return;
            }


            if (!/[0-9]$/.test(phonenumber)) {
                alert('please enter valid phonenumber');
                return;
            }

            var Language = prompt('Enter Your language');

            if (Language === null) {
                return;
            }



            var State = prompt("Enter Your State ");

            if (State === null) {
                return;
            }


            var Message = prompt('Enter your Message');

            if (Message === null) {
                return;
            }

            if (Message.length >= 10) {
                alert("Message cant't be too long")
            }


            if (name != null) {
                $('.td_1').text(name)
            }
            if (email != null) {
                $('.td_2').text(email)
            }
            if (age != null) {
                $('.td_3').text(age)
            }
            if (phonenumber != null) {
                $('.td_4').text(phonenumber)
            }
            if (Language != null) {
                $('.td_5').text(Language)
            }
            if (State != null) {
                $('.td_6').text(State)
            }
            if (Message != null) {
                $('.td_7').text(Message)
            }
            var new_date = new Date()

            var time = new_date.toLocaleTimeString();
            var date = new_date.toLocaleDateString();

            $('.td_8').text(date)
            $('.td_9').text(time)
        }

        function fnBrowserDetect() {
            let userAgent = navigator.userAgent;

            let browserName;
            if (userAgent.indexOf('Edg') != -1) {
                browserName = 'edge'
            } else if (userAgent.indexOf('Chrome') != -1) {
                browserName = 'Chorme'
            } else if (userAgent.indexOf('Safari') != -1) {
                browserName = 'Safari'
            } else if (userAgent.indexOf('Firefox') != -1) {
                browserName = 'Firefox'
            } else {
                browserName = "no browser detection"
            }

            $('p').html(`<br>
            <span>You are using <b>${browserName}</b> browser </span> <br>
            <b>UserAgent:${userAgent}</b></br>
            <b>AppcodeName:${navigator.appCodeName}</b> <br> <b>appName:${navigator.appName}</b> <br/><b>appVersion:${navigator.appVersion}</b>`)

            console.log(browserName)

            console.log(navigator.geolocation)

        }


        function TableClear() {
            var tbody = $('#user_data');
            tbody.html("")
            alert('Table Data cleared')
        }

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        function showPosition(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;

            $('.td_10').html("Latitude: " + latitude +
                "<br>Longitude: " + longitude)
        }


        function ShowTime(){
             var date = new Date();
             var time = date.toLocaleTimeString()
             $('#time').html(time)
        }

        setInterval(()=>{
            ShowTime()
        },1000)


        function ShowClock(){
            $('#digital_clock').css({display:'block'})
        }

    </script>
</head>

<body onload="ShowTime()">
    <div class="container-fluid">
        <div id="digital_clock" class=" mt-3 p-2 " style="border: 2px solid rgb(240, 30, 30); border-radius: 10px; display:none; width:29%; ">
            <span style="font-weight: bold; font-style: italic;">DIGITAL CLOCK </span>
            <h2 id="time" class="display-3 text-danger-emphasis"></h2>
        </div>
        <div class="d-flex justify-content-center align-items-center flex-column">
            <h2>PERSONAL DETAILS</h2>
            <table class="table table-bordered w-75  mb-5">
                <thead>
                   <tr>
                        <th>full name</th>
                        <th>Email</th>
                        <th>Age</th>
                        <th>PhoneNumber</th>
                        <th>Language</th>
                        <th>State</th>
                        <th>Message</th>
                        <th>Date</th>
                        <th>time</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody id="user_data">
                    <tr>
                        <td class="td_1"></td>
                        <td class="td_2"></td>
                        <td class="td_3"></td>
                        <td class="td_4"></td>
                        <td class="td_5"></td>
                        <td class="td_6"></td>
                        <td class="td_7"></td>
                        <td class="td_8"></td>
                        <td class="td_9"></td>
                        <td class="td_10"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div>
            <button class="btn btn-danger" id="clearButton" onclick="TableClear()">Clear table</button>
            <button class="btn btn-primary" id="addData" onclick="AddTableData()">Add Data</button>
            <button class="btn btn-secondary" id="browswerData" onclick="fnBrowserDetect()">BrowserDetails</button>
            <button class="btn btn-info" onclick="getLocation()">Get Location</button>
            <button class="btn btn-warning" onclick="ShowClock()">digital_clock</button>
        </div>
        <p class="mb-5 mt-5"></p>
       
    </div>
</body>

</html>